var tdwFavourites={};
(function(){tdwFavourites={selector:".tdc-favorite",cookieId:"tdw_favourites",cookieLifeTime:31536E7,items:[],init:function(){jQuery(tdwFavourites.selector).each(function(a){a=jQuery(a);tdwFavourites.addItem({$obj:a,prodId:a.data("prod-id")})});jQuery("body").on("click",tdwFavourites.selector,function(a){var d=jQuery(a.currentTarget),c=d.data("prod-id"),b=td_read_site_cookie(tdwFavourites.cookieId);a=0;"undefined"!==typeof b&&null!==b&&(a=b.split(",").filter(Boolean).length);jQuery(tdwFavourites.selector+
'[data-prod-id="'+c+'"]').toggleClass("tdc-favorite-selected");d.hasClass("tdc-favorite-selected")?("undefined"!==typeof b&&null!==b?(b=b.split(","),-1===b.indexOf(c.toString())&&(b.push(c),td_set_cookies_life([tdwFavourites.cookieId,b.join(","),tdwFavourites.cookieLifeTime]))):td_set_cookies_life([tdwFavourites.cookieId,c,tdwFavourites.cookieLifeTime]),a++):("undefined"!==typeof b&&null!==b&&(b=b.split(","),d=b.indexOf(c.toString()),-1<d&&b.splice(d,1),td_set_cookies_life([tdwFavourites.cookieId,
b.join(","),tdwFavourites.cookieLifeTime])),a--);b=jQuery(".tdw-wmf-count");b.length&&b.text(a)}).on("click",'.td-del-book-btn[data-bookmark-type="woo"]',function(a){a.preventDefault();a=td_read_site_cookie(tdwFavourites.cookieId);"undefined"!==typeof a&&null!==a&&(td_delete_site_cookie(tdwFavourites.cookieId),jQuery(tdwFavourites.selector).removeClass("tdc-favorite-selected"),a=jQuery(".tdw-wmf-count"),a.length&&a.text("0"))})},item:function(){},addItem:function(a){var d=new tdwFavourites.item,c=
!0;c&&"undefined"!==typeof a.$obj?d.$obj=a.$obj:c=!1;c&&tdwFavourites.items.push(d)}}})();jQuery().ready(function(){tdwFavourites.init()});
