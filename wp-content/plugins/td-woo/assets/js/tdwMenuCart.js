var tdwMenuCart={};jQuery().ready(function(){tdwMenuCart.init()});
(function(){tdwMenuCart={items:[],item:function(){this.blockObj=this.uid="";this._is_initialized=!1},init:function(){tdwMenuCart.items=[];this._is_running=!1},addItem:function(a){if("undefined"===typeof a.uid)throw"item.uid is not defined";tdwMenuCart.items.push(a);tdwMenuCart._initialize_item(a)},deleteItem:function(a){for(var b=0;b<tdwMenuCart.items.length;b++)if(tdwMenuCart.items[b].uid===a)return tdwMenuCart.items.splice(b,1),!0;return!1},resetItems:function(){tdwMenuCart.items=[]},handleCartUpdate:function(a){var b=
jQuery("body");b.on("added_to_cart removed_from_cart",function(b,c){tdwMenuCart._update_menu_cart_counters(a)});b.on("wc_cart_emptied update_checkout updated_cart_totals country_to_state_changed updated_shipping_method applied_coupon removed_coupon",function(){jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"td_woo_ajax_update_cart"},success:function(b){b&&(jQuery.each(b.fragments,function(a,b){jQuery(a).replaceWith(b)}),tdwMenuCart._update_menu_cart_counters(a))}})})},_initialize_item:function(a){if(!0!==
a._is_initialized){tdwMenuCart.handleCartUpdate(a);if(tdDetect.isMobileDevice)a.blockObj.find(".tdw-wmc-link").on("click",function(a){a.preventDefault()});a._is_initialized=!0}},_update_menu_cart_counters:function(a){setTimeout(function(){var b=a.blockObj.find(".tdw-wmc-widget-inner"),e=a.blockObj.find(".tdw-wmc-icon-wrap"),c=a.blockObj.find(".tdw-wmc-count"),f=a.blockObj.find(".tdw-wmc-txt"),d=b.data("cart_contents_count");b=b.data("cart_subtotal");0<parseInt(d)?c.length?c.text(d):e.append('<span class="tdw-wmc-count">'+
d+"</span>"):c.remove();f.text(b);0===parseInt(d)&&a.blockObj.addClass("tdw-wmc-empty")},100)}}})();
