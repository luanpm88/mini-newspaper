var tdwVariationSwitches={};
(function(a){tdwVariationSwitches={init:function(){tdwVariationSwitches.items=[]},item:function(){this.product_id=this.product_variations=this.element=this.jqueryObj=this.blockAtts=this.blockUid=void 0;this._is_initialized=this.inComposer=!1},_initialize_item:function(a){!0!==a._is_initialized&&(tdwVariationSwitches._init(a),tdwVariationSwitches._loaded(a),tdwVariationSwitches._update(a),a._is_initialized=!0)},addItem:function(a){if("undefined"===typeof a.blockUid)throw"item.blockUid is not defined";tdwVariationSwitches.items.push(a);
tdwVariationSwitches._initialize_item(a)},deleteItem:function(a){for(var b=0;b<tdwVariationSwitches.items.length;b++)if(tdwVariationSwitches.items[b].blockUid===a)return tdwVariationSwitches.items.splice(b,1),!0;return!1},_init:function(d){d.element.find("ul.variable-items-wrapper").each(function(){var b=a(this).siblings("select.woo-variation-raw-select"),d=a(this).hasClass("reselect-clear"),e=a("body").hasClass("td-woo-variation-switches-mob");if(d)a(this).on("click","li:not(.selected)",function(c){c.preventDefault();
c.stopPropagation();c=a(this).data("value");b.val(c).trigger("change");b.trigger("click");b.trigger("focusin");e&&b.trigger("touchstart");a(this).trigger("focus")}),a(this).on("click","li.selected",function(c){c.preventDefault();c.stopPropagation();b.val("").trigger("change");b.trigger("click");b.trigger("focusin");e&&b.trigger("touchstart");a(this).trigger("focus")});else a(this).on("click","li",function(c){c.preventDefault();c.stopPropagation();c=a(this).data("value");b.val(c).trigger("change");
b.trigger("click");b.trigger("focusin");e&&b.trigger("touchstart");a(this).trigger("focus")})});_.delay(function(){d.element.trigger("td_woo_variation_switches_init",[d.element,d.product_variations])},1)},_loaded:function(d){d.element.on("td_woo_variation_switches_init",function(b,f,e){f._generated=e.reduce(function(a,b){Object.keys(b.attributes).map(function(c){a[c]||(a[c]=[]);b.attributes[c]&&a[c].push(b.attributes[c])});return a},{});f._out_of_stock=e.reduce(function(a,b){Object.keys(b.attributes).map(function(c){a[c]||
(a[c]=[]);b.attributes[c]&&!b.is_in_stock&&a[c].push(b.attributes[c])});return a},{});d.element.find("ul.variable-items-wrapper").each(function(){var b=a(this).find("li"),d=a(this).data("attribute_name"),e=f._generated[d];b.each(function(){var b=a(this).attr("data-value");_.isEmpty(e)||-1!==_.indexOf(e,b)||(a(this).removeClass("selected"),a(this).addClass("disabled"))})})})},_update:function(d){d.element.on("__found_variation",function(a,d){});d.element.on("woocommerce_variation_has_changed",function(a){});
d.element.on("woocommerce_update_variation_values",function(){a(this).find("ul.variable-items-wrapper").each(function(){var b="",d=a(this).siblings("select.woo-variation-raw-select").find("option"),e=a(this).siblings("select.woo-variation-raw-select").find("option:selected"),c=a(this).siblings("select.woo-variation-raw-select").find("option").eq(1),h=a(this).find("li"),g=[];d.each(function(){""!==a(this).val()&&(g.push(a(this).val()),b=e?e.val():c.val())});_.delay(function(){h.each(function(){var c=
a(this).attr("data-value");a(this).removeClass("selected disabled").addClass("disabled");-1!==_.indexOf(g,c)&&(a(this).removeClass("disabled"),c===b&&a(this).addClass("selected"))})},1)})})},_reset:function(d){d.element.on("reset_data",function(){a(this).find("ul.variable-items-wrapper").each(function(){a(this).find("li").each(function(){a(this).removeClass("selected disabled")})})})}}})(jQuery);jQuery().ready(function(){tdwVariationSwitches.init()});
